#4) Сортирвка подсчетом
Сортировка методом подсчета (сортировка за линейное время)
В случае, если значения элементов сортируемого массива (A), являются элементами
некоторого заранее известного относительно небольшого множества (values), то
отсортировать такой массив можно за O(n) операций следующим образом. Будем считать,
что множество значений values представлено одноименным отсортированным массивом
или диапазоном (тут вжно только, чтобы выполнялось условие values[i] < values[i+1]).
Сначала надо перебрать все элементы в массиве A и подсчитать, сколько раз встретилось
каждое значение из данного набора значений values, а затем остается только в мвссив a
поместить значение values[1] подсчитанное число раз, затем - values[2], и т.д., и, наконец, -
values[end].
function calcsort!(a, values)
num_val = zeros(Int, size(values))
for v in a
num_val[indexvalue(v,values)] += 1
end
k=1
for i in eachindex(values)
for j in 1:num_val[i]
a[k] = values[i]
k+=1
end
end
return a
end
Здесь вспомогательная функция indexvalue(v, values) возвращает индекс значения v в
наборе значений values. Реализация этой функции зависит от способа представления
набора значений values.
В случае, если values - это диапазон целых чисел, то возможна следующая реализация.
indexvalue(v, values::UnionRange) = v - values[1] + 1
В случае, если values - это отсортированный вектор значений, то возможна также
следующая реализация.
indexvalue(v, values::Vector) = findfirst(v, values)
